<!--wogikaze,2023-->

<!DOCTYPE html>
<html>

<head>
    <title>MFM editor</title>
    <meta charset="utf-8">
    <script src="parse.js"></script>
</head>

<body>
    <textarea id="in" spellcheck="false"></textarea>
    <div id="out"></div>

</body>

</html>
<script>
    var inputText = `<center>
Hello $[tada everynan! :tada:ðŸ˜Š]
@ai
https://google.com/
</center>`;
    var mfmTree = parse(inputText, {
        fnNameList: ['tada', 'jelly', 'twitch', 'shake', 'spin', 'jump', 'bounce', 'flip', 'x2', 'x3', 'x4', 'scale', 'position', 'fg', 'bg', 'font', 'blur', 'rainbow', 'sparkle', 'rotate']
    });
    console.log(mfmTree);
    console.log(parseSimple("I like the hot soup :soup:â€‹"))

    const input = document.getElementById("in");
    const output = document.getElementById("out");
    input.addEventListener("input", e => {
        let input_text = e.target.value;
        output.innerText = input_text;
        let tree = parse(input_text)
        console.log(tree)
        let mfm_text = toString(tree)
        console.log(mfm_text)

    });





</script>
<style>
    body {
        padding: 2rem;
        min-height: 80vh;
    }

    textarea {
        width: 100%;
        max-width: calc(100vw - 4rem - 40px);
        min-height: 40vh;
        max-height: calc(100vh - 4rem - 32px);
        padding: 16px 20px;
        outline: 1px solid sandybrown;
        border-radius: 8px;
        font-family: Hiragino Maru Gothic Pro, BIZ UDGothic, Roboto, HelveticaNeue, Arial, sans-serif;
        font-weight: 500;
        font-size: 20px;
        resize: none;
    }

    textarea:focus-visible {
        outline: 2px solid saddlebrown;
    }

    #out {
        width: 100%;
        max-width: calc(100vw - 4rem - 40px);
        min-height: 40vh;
        max-height: calc(100vh - 4rem - 32px);
        padding: 16px 20px;
        outline: 1px solid sandybrown;
        border-radius: 8px;
        font-family: Hiragino Maru Gothic Pro, BIZ UDGothic, Roboto, HelveticaNeue, Arial, sans-serif;
        font-weight: 500;
        font-size: 20px;
        background-color: #f0f0f0;
    }
</style>